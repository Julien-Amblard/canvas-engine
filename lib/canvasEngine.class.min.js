!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n(require("clone-deep"));else if("function"==typeof define&&define.amd)define(["clone-deep"],n);else{var e="object"==typeof exports?n(require("clone-deep")):n(t["clone-deep"]);for(var o in e)("object"==typeof exports?exports:t)[o]=e[o]}}(window,(function(t){return function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(n){return t[n]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(n,e){n.exports=t},function(t,n,e){"use strict";e.r(n);var o=e(0),i=e.n(o);function r(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(t){t.$canvas,t.ctx,t.data},u=function(){function t(){var n,e,o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=r.$canvas,s=void 0===u?null:u,f=r.data,l=void 0===f?{}:f,c=r.onUpdate,d=void 0===c?a:c,p=r.onInit,h=void 0===p?a:p,v=r.onDraw,y=void 0===v?a:v,g=r.onStart,_=void 0===g?a:g,b=r.onStop,m=void 0===b?a:b;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),o=!1,(e="_isRunning")in(n=this)?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,this.$canvas=s instanceof HTMLElement&&"canvas"===s.tagName.toLowerCase()?s:null,this.data=l?i()(l):null,this.onInit="function"==typeof h?h:null,this.onUpdate="function"==typeof d?d:null,this.onDraw="function"==typeof y?[y]:Array.isArray(y)?y.filter((function(t){return"function"==typeof t})):null,this.onStart="function"==typeof _?_:null,this.onStop="function"==typeof m?m:null,this.$canvas?(this.arg={$canvas:this.$canvas,ctx:this.$canvas.getContext("2d"),data:this.data},this.onInit(this.arg)):console.error("canvas-engine : invalid canvas element")}var n,e,o;return n=t,(e=[{key:"_run",value:function(){this._isRunning&&(this._update(),this._draw(),requestAnimationFrame(this._run.bind(this)))}},{key:"_update",value:function(){this.onUpdate&&this.onUpdate(this.arg)}},{key:"_draw",value:function(){var t=this;this.onDraw&&this.onDraw.length&&this.onDraw.forEach((function(n){return n(t.arg)}))}},{key:"_stop",value:function(){this.onStop&&this.onStop(this.arg),this._isRunning=!1}},{key:"_start",value:function(){this.onStart&&this.onStart(this.arg),this._isRunning=!0,this._run()}},{key:"_toggle",value:function(){this._isRunning=!this._isRunning,this._run()}},{key:"update",value:function(){this._update()}},{key:"draw",value:function(){this._draw()}},{key:"toggle",value:function(){this._toggle()}},{key:"stop",value:function(){this._stop()}},{key:"start",value:function(){this._start()}}])&&r(n.prototype,e),o&&r(n,o),t}();n.default=u}])}));